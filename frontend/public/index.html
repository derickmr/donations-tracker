<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Platform to track ONGs donations" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
  <title>Donations Tracker</title>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<script src="https://js.braintreegateway.com/web/3.6.2/js/client.js"></script>
<script src="https://js.braintreegateway.com/web/3.6.2/js/hosted-fields.js"></script>

   <script>
    var braintreeConfig = {
               styles: {
                  'input': {
                    'font-size': '16px',
                    'font-family': 'courier, monospace',
                    'font-weight': 'lighter',
                    'color': '#ccc'
                  },
                  ':focus': {
                    'color': 'black'
                  },
                  '.valid': {
                    'color': '#8bdda8'
                  }
                },
                fields: {
                  number: {
                    selector: '#cardNumber',
                    placeholder: '4111 1111 1111 1111'
                  },
                  cvv: {
                    selector: '#cvv',
                    placeholder: '123'
                  },
                  expirationDate: {
                    selector: '#expirationDate',
                    placeholder: 'MM/YYYY'
                  },
                  postalCode: {
                    selector: '#postalCode',
                    placeholder: '11111'
                  }
                }
     };



      braintree.client.create({
        authorization: 'sandbox_mbzbpnqn_346mrgcqwkppmnhx' //REPLACE WITH YOUR OWN PAYMENT GATEWAY KEY
      }, function(err, clientInstance) {
        if (err) {
          console.log('error initializing payment gateway');
          return;
        }

            braintree.hostedFields.create({
                client: clientInstance,
                styles: braintreeConfig.styles,
                fields: braintreeConfig.fields
              }, function (hostedFieldsErr, hostedFieldsInstance) {

                  if (hostedFieldsErr) {
                     console.log('error creating hosted fields');
                     return;
                   }

                  var formElement = document.getElementById('ggPaymentForm');

                  formElement.addEventListener('submit', function (event) {
                     event.preventDefault();

                     hostedFieldsInstance.tokenize(function (tokenizeErr, payload) {
                       if (tokenizeErr) {
                         console.log('error tokenizing hosted fields');
                         return;
                       }

                       $('#paymentNonce').val(payload.nonce);

                        if (typeof beforeSubmitCallback === 'function')
                        {
                           if (!beforeSubmitCallback(event,thisGGPayment))
                           {
                              return;
                           }
                        }

                       alert('The hidden element with id #paymentNonce has been set to ' + $('#paymentNonce').val() + '. Only remove this alert and ' +
                       'uncomment formElement.trigger("submit") once you replace sandbox_mbzbpnqn_346mrgcqwkppmnhx with your own payment gateway key and setup your own server-side processing / API call.');

                       //formElement.trigger('submit');

                     }); //end hostedFieldsInstance.tokenize
                }, false); //end submit event
        });//end  braintree.hostedFields.create
      });  //end  braintree.client.create
   </script>

  <div id="root"></div>
  <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
</body>

</html>